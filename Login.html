<html>
	<head>
		<title>SocialStance</title>
		<link rel="stylesheet" type="text/css" href="GamingforGood.css">
	</head>
	<body>
		
		<h1><center><div class="banner"><p> Social Stance </div></p></h1></center>
<!--><center> <button id="Login">Login with facebook</button></center> --!>
			<!--<p><center> <a target="blank" href="Questions.html">Sign in as guest</a></center></p>--!>
			
			<button id="loginBtn">Facebook Login</button>
			<div id="response"></div>
			
		<!--color palette #3189--!>
		<script src="https://www.gstatic.com/firebasejs/3.7.0/firebase.js"></script>
			<script>
			
			
  				// Initialize Firebase
  					var config = {
    					apiKey: "AIzaSyA_vtwXjKz6qUjsL5EUn7PmpcTCUdjekgE",
    					authDomain: "gaming-for-good.firebaseapp.com",
   						databaseURL: "https://gaming-for-good.firebaseio.com",
    					storageBucket: "gaming-for-good.appspot.com",
    					messagingSenderId: "660446715016"
  					};
  					
  				// Facebook Oauth	
  				firebase.initializeApp(config);
  				
  				var provider = new firebase.auth.FacebookAuthProvider();
  				firebase.auth().signInWithRedirect(provider);
  				
  				firebase.auth().getRedirectResult().then(function(result) {
  				if (result.credential) {
   					 // This gives you a Facebook Access Token. You can use it to access the Facebook API.
    				var token = result.credential.accessToken;
    				// ...
  					}
  					// The signed-in user info.
  					var user = result.user;
					}).catch(function(error) {
  					// Handle Errors here.
  					var errorCode = error.code;
  					var errorMessage = error.message;
 					 // The email of the user's account used.
  					var email = error.email;
  					// The firebase.auth.AuthCredential type that was used.
  					var credential = error.credential;
  					// ...
				});
				
				//Facebook login
				
						function getUserData() {
			FB.api('/me', function(response) {
				document.getElementById('response').innerHTML = 'Hello ' + response.name;
			});
		}
 
		window.fbAsyncInit = function() {
			//SDK loaded, initialize it
			FB.init({
				appId      : '1886329118305048',
				xfbml      : true,
				version    : 'v2.2'
			});
 
			//check user session and refresh it
			FB.getLoginStatus(function(response) {
				if (response.status === 'connected') {
					//user is authorized
					document.getElementById('loginBtn').style.display = 'none';
					getUserData();
				} else {
					//user is not authorized
				}
			});
		};
 
		//load the JavaScript SDK
		(function(d, s, id){
			var js, fjs = d.getElementsByTagName(s)[0];
			if (d.getElementById(id)) {return;}
			js = d.createElement(s); js.id = id;
			js.src = "//connect.facebook.com/en_US/sdk.js";
			fjs.parentNode.insertBefore(js, fjs);
		}(document, 'script', 'facebook-jssdk'));
 
		//add event listener to login button
		document.getElementById('loginBtn').addEventListener('click', function() {
			//do the login
			FB.login(function(response) {
				if (response.authResponse) {
					//user just authorized your app
					document.getElementById('loginBtn').style.display = 'none';
					getUserData();
				}
			}, {scope: 'email,public_profile', return_scopes: true});
		}, false);
			</script>
	</body>
</html>